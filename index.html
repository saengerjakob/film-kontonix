<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Was hier wohl istâ€¦</title>
<style>
  body{
    margin:0;
    background:#0c1014;
    color:#e6d2b0;
    font-family:Inter,Arial,Helvetica,sans-serif;
    display:flex;
    justify-content:center;
    padding:20px;
  }
  .wrap{
    max-width:600px; 
    text-align:center;
    padding:20px;
    background:#11161c;
    border-radius:16px;
    box-shadow:0 0 40px rgba(0,0,0,0.4);
  }
  h1{margin-top:0;}
  canvas{
    background:#1a222c;
    border-radius:12px;
    margin-top:16px;
    width:100%;
    max-width:560px;
  }
  #msg{
    margin-top:14px;
    font-size:14px;
    color:#92806d;
  }
  #startBtn{
    margin-top:18px;
    background:#b4783a;
    border:0;
    padding:10px 16px;
    color:white;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
  }
</style>
</head>
<body>
<div class="wrap">
  <h1>Was hier wohl istâ€¦?</h1>
  <p>Willkommen im <b>geheimen Set-Portal</b> der Kontonix Finanz AG.<br>
  Damit du nicht nur neugierig bist, gibtâ€™s hier ein kleines Spiel.</p>

  <button id="startBtn">Mini-Game starten</button>

  <canvas id="game" width="560" height="360"></canvas>
  <div id="msg">Fange fallende Symbole, um die Kontonix-Kurve zu retten!</div>
</div>

<script>
// ----- Mini Game: Fallende Symbole fangen -----

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let player = { x: canvas.width/2 - 40, y: canvas.height - 35, w: 80, h: 20 };
let items = [];
let score = 0;
let running = false;

// Steuerung
document.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  player.x = x - player.w/2;
});

// Neues Item
function spawnItem(){
  items.push({
    x: Math.random() * (canvas.width - 20),
    y: -30,
    speed: 2 + Math.random()*2,
    symbol: Math.random() < 0.5 ? "ðŸ’¸" : "ðŸ“‰"
  });
}

// Game Loop
function loop(){
  if(!running) return;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Zeichne Spieler
  ctx.fillStyle = "#b4783a";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Items bewegen
  items.forEach((it, i) => {
    it.y += it.speed;
    ctx.font = "28px sans-serif";
    ctx.fillText(it.symbol, it.x, it.y);

    // Kollision
    if(it.y > player.y - 5 && it.x > player.x - 15 && it.x < player.x + player.w){
      score++;
      items.splice(i,1);
    }

    // Entfernen wenn unten raus
    if(it.y > canvas.height + 50) items.splice(i,1);
  });

  // Ab und zu neues Item
  if(Math.random() < 0.04) spawnItem();

  requestAnimationFrame(loop);
}

// Start
document.getElementById("startBtn").onclick = () => {
  if(running) return;
  running = true;
  score = 0;
  items = [];
  document.getElementById("msg").textContent = "Spiel lÃ¤uftâ€¦ rette die Kontonix-Kurve!";
  
  loop();

  // Nach 15 Sekunden endet das Game
  setTimeout(()=>{
    running = false;
    document.getElementById("msg").innerHTML =
      "Ergebnis: <b>" + score + "</b> gefangene Kurse.<br><br>" +
      (score > 10 
        ? "GlÃ¼ckwunsch! Du wÃ¤rst bei Kontonix vermutlich Abteilungsleiter â€“ oder wenigstens Praktikant am Set."
        : "Hmâ€¦ vielleicht besser am Set bleiben. Bankwesen ist nicht fÃ¼r jeden gemacht ðŸ˜„");
  }, 15000);
};
</script>

</body>
</html>
